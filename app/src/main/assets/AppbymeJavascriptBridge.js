 (function(){if(window.AppbymeJavascriptBridge){return}var am="2.2";var P=3000;var q=0;var ac=y=z=last_x=last_y=last_z=0;var W;var R;var N;var f;var i;var aj;var m;var ar;var al;var ab;var g;var k;var F="appbyme://onLogout";var K="appbyme://onLogin";var ae="appbyme://onShare";var v="appbyme://getUserInfo";var ah="appbyme://getAppVersion";var Q="appbyme://usercenter";var b="appbyme://pulishTopic";var d="appbyme://replyTopic";var ai="appbyme://topicDetail";var ak="appbyme://scan";var aq="appbyme://urlRequest";var j="appbyme://imagePreview";var Z="appbyme://customButton";var E="appbyme://encrypt";var l="appbyme://getLocation";var n="appbyme://closeActivity";var V="appbyme://payRequest";var e={versions:function(){var x=navigator.userAgent;return{trident:x.indexOf("Trident")>-1,presto:x.indexOf("Presto")>-1,webKit:x.indexOf("AppleWebKit")>-1,gecko:x.indexOf("Gecko")>-1&&x.indexOf("KHTML")==-1,mobile:!!x.match(/AppleWebKit.*Mobile.*/),ios:!!x.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:x.indexOf("Android")>-1,iPhone:x.indexOf("iPhone")>-1,iPad:x.indexOf("iPad")>-1,webApp:x.indexOf("Safari")==-1,appbyme:x.indexOf("Appbyme")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};function p(x,at){W=at;if(x!=null&&x!=""){P=x}if(e.versions.android){P=P+1000}if(window.DeviceMotionEvent){window.addEventListener("devicemotion",ad,false)}else{alert("您的设备不支持摇一摇功能")}}function ad(au){var at=au.accelerationIncludingGravity;var aw=new Date().getTime();if((aw-q)>100){var x=aw-q;q=aw;ac=at.x;y=at.y;z=at.z;var av=Math.abs(ac+y+z-last_x-last_y-last_z)/x*10000;if(av>P){W()}last_x=ac;last_y=y;last_z=z}}function X(x){R=x;if(e.versions.android){appbyme.onLogin()}else{return document.location=K}}function J(x){N=x;if(e.versions.android){appbyme.onLogout()}else{return document.location=F}}function aa(av,at,x,au){t(au);if(e.versions.android){appbyme.onShare(av,at,x)}else{return document.location=ae+"?"+encodeURIComponent(av)+"&"+encodeURIComponent(at)+"&"+encodeURIComponent(x)}}function t(x){f=x}function a(x){i=x;if(e.versions.android){appbyme.getUserInfo()}else{return document.location=v}}function B(x){aj=x;if(e.versions.android){appbyme.getVersion()}else{return document.location=ah}}function ap(x){if(e.versions.android){appbyme.userCenter(x)}else{return document.location=Q+"?"+encodeURIComponent(x)}}function Y(aw,av,ax,au,at,x){m=aw;if(typeof(av)=="undefined"||av==null){av=1}if(typeof(ax)=="undefined"||ax==null){ax=0}if(typeof(au)=="undefined"||au==null){ax=""}if(typeof(at)=="undefined"||at==null){at=0}if(typeof(x)=="undefined"||x==null){x=true}if(e.versions.android){appbyme.pulishTopic(av,ax,au,at,x)}else{return document.location=b+"?"+encodeURIComponent(av)+"&"+encodeURIComponent(ax)+"&"+encodeURIComponent(au)+"&"+encodeURIComponent(at)+"&"+encodeURIComponent(x)}}function M(au,at,x,av){ar=au;if(typeof(at)=="undefined"||at==null){topicType=0}if(typeof(x)=="undefined"||x==null){x=0}if(typeof(av)=="undefined"||av==null){av=0}if(e.versions.android){appbyme.replyTopic(at,x,av)}else{return document.location=d+"?"+encodeURIComponent(at)+"&"+encodeURIComponent(x)+"&"+encodeURIComponent(av)}}function D(at,au,x){if(typeof(at)=="undefined"||at==null){at=0}if(typeof(au)=="undefined"||au==null){au=0}if(typeof(x)=="undefined"||x==null){x=1}if(e.versions.android){appbyme.topicDetail(at,au,x)}else{return document.location=ai+"?"+encodeURIComponent(at)+"&"+encodeURIComponent(au)+"&"+encodeURIComponent(x)}}function an(x){H(x);if(e.versions.android){appbyme.scan()}else{return document.location=ak}}function H(x){al=x}function C(x){if(e.versions.android){appbyme.urlRequest(x)}else{return document.location=aq+"?"+encodeURIComponent(x)}}function U(at,x){if(typeof(x)=="undefined"||x==null){x=0}if(e.versions.android){appbyme.imagePreview(at,x)}else{return document.location=j+"?"+encodeURIComponent(at)+"&"+encodeURIComponent(x)}}function O(x){if(typeof(x)=="undefined"||x==null){x="{}"}if(e.versions.android){appbyme.customButton(x)}else{return document.location=Z+"?"+encodeURIComponent(x)}}function ao(x,at){ab=x;if(e.versions.android){appbyme.encrypt(at)}else{return document.location=E+"?"+encodeURIComponent(at)}}function o(x){g=x;if(e.versions.android){appbyme.getLocation()}else{return document.location=l}}function T(){if(e.versions.android){appbyme.closeActivity()}else{return document.location=n}}function c(au,x,at){k=au;if(e.versions.android){appbyme.payRequest(x,at)}else{return document.location=V+"?"+encodeURIComponent(x)+"&"+encodeURIComponent(at)}}function s(x){R(x)}function G(x){N(x)}function ag(x){f(x)}function S(x){x.js=am;aj(x)}function A(x){i(x)}function af(x){m(x)}function h(x){ar(x)}function w(x){al(x)}function L(x){ab(x)}function r(x){g(x)}function I(x){k(x)}window.AppbymeJavascriptBridge={initShake:p,login:X,logout:J,share:aa,getUserInfo:a,getVersion:B,userCenter:ap,pulishTopic:Y,replyTopic:M,topicDetail:D,scan:an,urlRequest:C,imagePreview:U,customButton:O,encrypt:ao,getLocation:o,closeActivity:T,payRequest:c,loginCallBack:s,logoutCallBack:G,shareCallBack:ag,versionCallBack:S,userInfoCallBack:A,replyTopicCallBack:h,scanCallBack:w,pulishTopicCallBack:af,setShareCallBack:t,setScanCallBack:H,encryptCallBack:L,locationCallBack:r,payRequestCallBack:I};
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             var u=document.createEvent("Events");u.initEvent("connectAppbymeJavascriptBridge");u.bridge=AppbymeJavascriptBridge;document.dispatchEvent(u)})();